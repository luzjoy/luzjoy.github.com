---
layout: post
title: 消息队列在项目中的一种应用场景
category: 技术
tags: queue,Rabbitmq,redis
description: 
---

###背景
项目中写入修改的操作都是直接操作的数据库，而读取是读取的Redis。
这就涉及到一个问题，数据库中的内容如何同步到Redis？

###解决方案
1. 需要及时更新的内容，有些内容是需要及时更新，当然是在操作了数据库之后，同时修改Redis中的的缓存，保证其他程序读取到的内容是最新的。
2. 非强制及时更新的内容，我们可以交给消息队列去慢慢处理，慢慢更新Redis。我们将操作数据库的内容和存入消息队列的内容放到一个事务去处理，放到消息队列后，我们就认为这个任务处理完成了。剩下的工作就交给消息队列去处理吧，当然还有一些异常处理、错误机制、重试机制来保证队列中的数据被正确的处理成功。

###简单说明



###优点
* 降低服务器一段时间之内的压力
* 使的项目解耦 将产生消息和处理消息的内容拆分开来
* 排序 消息队列可以保证消息处理的先后顺序（当然，出现异常除外）